<html id="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Internalizing event handler</title>
  </head>
  <body id="body">
    <p id="p">Count: <span id="counter"></span></p>
    <button id="theButton" type="button">increment</button>
    <script type="module">
      import {baton} from '../asset/baton.esm.js'
      const state = {count:0}
      const increment = (ev) => {
        withState((state) => ({count: state.count + 1}))
      }
      const show = (state) => ({
        "#counter": {
          innerText: state.count
        }, 
        "button": {
          onclick: increment
        }
      })
      const withState = baton(state, show)
    </script>
  </body>
</html>